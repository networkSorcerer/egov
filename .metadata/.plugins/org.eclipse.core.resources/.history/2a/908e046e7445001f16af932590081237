<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>주문 목록</title>
<jsp:include page="/WEB-INF/view/common/common_include.jsp"></jsp:include>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $.ajax({
        url: "/order/orderList.do",
        type: "post",
        dataType: "json",
        success: function(response) {
            var orderList = response.oList; // 서버에서 반환된 주문 목록 배열
            var html = "";
            
            // 주문 목록 배열을 순회하며 테이블 행 생성
            orderList.forEach(function(order) {
                html += "<tr>";
                html += "<td>" + order.seq + "</td>";
                html += "<td>" + order.product_name + "</td>";
                html += "<td>" + order.order_count + "</td>";
                html += "<td>" + order.obtain_date + "</td>";
                html += "</tr>";
            });
            
            // 생성된 HTML을 테이블에 추가
            $("#orderDetail").html(html);
        },
        error: function(xhr, status, error) {
            console.error("AJAX 오류 발생:", error);
        }
    });
});
</script>
</head>
<body>
<div>
<dl>
	<dt>
		<strong>주문 목록</strong>
	</dt>
</dl>
   
    
    <div>
        <table id="show" class="col">
            <thead>
                <tr>
                    <td>주문 ID</td>
                    <td>상품 이름</td>
                    <td>상품 수량</td>
                    <td>주문 일자</td>
                </tr>
            </thead>
            <tbody id="orderDetail">
                <!-- 주문 목록이 여기 추가됩니다 -->
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
