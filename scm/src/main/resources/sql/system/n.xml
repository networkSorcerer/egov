<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="kr.happyjob.study.system.dao.nDAO">
	
	<select id="n1List" resultType="kr.happyjob.study.system.model.nModel">
		SELECT 
			noti_seq ,
			loginID ,
			noti_title ,
			noti_content ,
			noti_date
		FROM tb_noti_info
	</select>
	
	<select id="nListCnt" resultType="int">
		SELECT
			count(*)
		FROM tb_noti_info
	</select>
	
	<insert id="nSave">
		<selectkey resultType="int" keyProperty="noticeSeq" oder="BEFORE">
			SELECT IFNULL(max(noti_seq), 0) + 1 from tb_noti_info
		</selectkey>
		insert into tb_noti_info
			(
				noti_seq,
				loginID,
				noti_title,
				noti_content,
				noti_date
			) values (
				#{noticeSeq},
				#{loginId},
				#{title},
				#{content},
				now()
			)
	</insert>
</mapper>